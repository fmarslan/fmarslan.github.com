---
layout: post
title: "JSF 1.2 için Input File Upload Component"
categories: JSF
---

Malum kullanan varmıdır bilmiyorum ama JSF 1.2 de file upload yok bunu tolere edebilmek için ben yeniden bir inputFile componenti yazdım başkası ihtiyacı olan bir başkası uğraşmasın

```title:HtmlInputFile.java 

package tr.com.app.base.component.inputfile;

import java.io.File;
import java.io.Serializable;

import javax.faces.context.FacesContext;
import javax.faces.event.AbortProcessingException;
import javax.faces.event.FacesEvent;
import javax.faces.event.ValueChangeEvent;

import org.apache.commons.logging.Log;
import org.apache.commons.logging.LogFactory;

public class HtmlInputFile extends javax.faces.component.html.HtmlInputText
        implements Serializable {

    private static final long serialVersionUID = 1L;

    private static final Log log = LogFactory.getLog(HtmlInputFile.class);

    public static final String FILE_UPLOAD_PREFIX = "inputFile";
    private String label;
    
    public String getComponentType() {
        return "tr.com.app.faces.Upload";
    }

    public String getRendererType() {
        return "tr.com.app.faces.Upload";
    }

    public String getFamily() {
        return "tr.com.app.faces.File";
    }

    public void broadcast(FacesEvent event) throws AbortProcessingException {
        super.broadcast(event);
    }

    public Object saveState(FacesContext context) {
        Object values[] = new Object[2];
        values[0] = super.saveState(context);
        values[1] = label;
        return ((Object) (values));
    }

    public void restoreState(FacesContext context, Object state) {
        Object values[] = (Object[]) state;
        super.restoreState(context, values[0]);
        disabled = (Boolean) values[1];
        styleClass = (String) values[2];
        label = (String) values[3];
        disabled = (Boolean) values[4];
        file = (File) values[5];
    }

    public String getLabel() {
        return label;
    }

    public void setLabel(String label) {
        this.label = label;
    }

    public void validate(FacesContext context) {

        if (context == null) {
            throw new NullPointerException();
        }
        String filename = context.getRequestParameterMap()
                .get(this.getClientId(context)).trim();
        filename =  "c:\\\\temp\" + filename;
        File file = new File(filename.trim());
        setValue(file);

    }

}

```
